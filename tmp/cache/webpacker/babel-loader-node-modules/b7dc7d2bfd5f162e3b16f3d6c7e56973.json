{"ast":null,"code":"function _readOnlyError(name) { throw new Error(\"\\\"\" + name + \"\\\" is read-only\"); }\n\nvar resetFilters = function resetFilters() {\n  var reset = document.getElementById(\"reset_filters\");\n  reset.addEventListener(\"click\", function (event) {\n    console.log(\"toto\");\n  });\n};\n\nvar dropdownFruit = function dropdownFruit() {\n  var fruit = document.getElementById(\"DropdownFruit\");\n  fruit.addEventListener(\"click\", function (event) {\n    catRequest();\n    var product_type = document.getElementById(\"product_type\");\n    var product_fruit = event.target.dataset.name;\n    url_path(product_fruit); // const url = window.location.origin + window.location.pathname + \"?fruit=\" + product_fruit\n    // window.location.href = url;\n    // +  \"?category=\" + product_category.innerText\n  });\n};\n\nvar dropdownCategory = function dropdownCategory() {\n  var category = document.getElementById(\"DropdownCategory\");\n  category.addEventListener(\"click\", function (event) {\n    var targetCategory = event.target.dataset.name;\n    var url = window.location.origin + window.location.pathname + \"?category=\" + targetCategory;\n    window.location.href = url;\n  });\n};\n\nvar dropdownType = function dropdownType() {\n  var type = document.getElementById(\"DropdownType\");\n  type.addEventListener(\"click\", function (event) {\n    var targetType = event.target.dataset.name;\n    var url = window.location.origin + window.location.pathname + \"?type=\" + targetType;\n    window.location.href = url;\n  });\n};\n\nvar url_path = function url_path(product_fruit) {\n  var url = window.location.origin + window.location.pathname + \"?fruit=\" + product_fruit + catQuery;\n  window.location.href = url;\n};\n\nvar catRequest = function catRequest() {\n  var catQuery = \"\";\n  var product_category = document.getElementById(\"product_category\");\n\n  if (product_category.innerText !== 'Catégorie') {\n    catQuery = (_readOnlyError(\"catQuery\"), \"?category=\" + product_category.innerText);\n  } else {\n    catQuery = (_readOnlyError(\"catQuery\"), \"\");\n  }\n\n  ;\n  return catQuery;\n};\n\nexport { dropdownFruit };\nexport { dropdownCategory };\nexport { dropdownType }; // PREVIOUS RESEARCHS NOT USED FINALLY\n// console.log(event.toElement.text); ancienne méthode qui permettait de retriever le champ text de l'élement\n// console.log(event.toElement);\n// return the target element: <a href=\"#\"><%= type %></a>\n// console.log(event.currentTarget);\n// returns the element whose event listener triggered the event = the whole div\n// console.log(event.target.nodeName);\n// returns the HTML element (=Node) that triggered the event = A (a href...)\n// console.log(event.currentTarget.nodeName);\n// returns the HTML element (=Node) whose event listener triggered the event = DIV","map":{"version":3,"sources":["/Users/VIG/code/VincentGuilleux/goutsdfruits/app/javascript/components/dropdown.js"],"names":["resetFilters","reset","document","getElementById","addEventListener","event","console","log","dropdownFruit","fruit","catRequest","product_type","product_fruit","target","dataset","name","url_path","dropdownCategory","category","targetCategory","url","window","location","origin","pathname","href","dropdownType","type","targetType","catQuery","product_category","innerText"],"mappings":"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","sourcesContent":["const resetFilters = () => {\n  const reset = document.getElementById(\"reset_filters\");\n  reset.addEventListener(\"click\", (event) => {\n    console.log(\"toto\");\n  });\n};\n\nconst dropdownFruit = () => {\n  const fruit = document.getElementById(\"DropdownFruit\");\n\n  fruit.addEventListener(\"click\", (event) => {\n    catRequest();\n    const product_type = document.getElementById(\"product_type\");\n    const product_fruit = (event.target.dataset.name)\n    url_path(product_fruit) ;\n    // const url = window.location.origin + window.location.pathname + \"?fruit=\" + product_fruit\n    // window.location.href = url;\n    // +  \"?category=\" + product_category.innerText\n  });\n};\n\nconst dropdownCategory = () => {\n  const category = document.getElementById(\"DropdownCategory\");\n\n  category.addEventListener(\"click\", (event) => {\n    const targetCategory = (event.target.dataset.name)\n    const url = window.location.origin + window.location.pathname + \"?category=\" + targetCategory\n    window.location.href = url;\n  });\n};\n\nconst dropdownType = () => {\n  const type = document.getElementById(\"DropdownType\");\n\n  type.addEventListener(\"click\", (event) => {\n    const targetType = (event.target.dataset.name)\n    const url = window.location.origin + window.location.pathname + \"?type=\" + targetType\n    window.location.href = url;\n  });\n};\n\nconst url_path = (product_fruit) => {\nconst url = window.location.origin + window.location.pathname + \"?fruit=\" + product_fruit + catQuery ;\n    window.location.href = url;\n};\n\nconst catRequest = () => {\nconst catQuery =\"\";\nconst product_category = document.getElementById(\"product_category\");\n    if (product_category.innerText !== 'Catégorie') {\n      catQuery = \"?category=\" + product_category.innerText\n    } else { catQuery= \"\" };\nreturn catQuery;\n};\n\n\n\nexport { dropdownFruit } ;\nexport { dropdownCategory } ;\nexport { dropdownType } ;\n\n    // PREVIOUS RESEARCHS NOT USED FINALLY\n    // console.log(event.toElement.text); ancienne méthode qui permettait de retriever le champ text de l'élement\n    // console.log(event.toElement);\n    // return the target element: <a href=\"#\"><%= type %></a>\n    // console.log(event.currentTarget);\n    // returns the element whose event listener triggered the event = the whole div\n    // console.log(event.target.nodeName);\n    // returns the HTML element (=Node) that triggered the event = A (a href...)\n    // console.log(event.currentTarget.nodeName);\n    // returns the HTML element (=Node) whose event listener triggered the event = DIV\n"]},"metadata":{},"sourceType":"module"}